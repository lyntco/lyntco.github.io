---
title: Ultimate Indie - Week 5 day 7 Boba Tycoon Prototyping
date: 2025-11-30 22:38:00 +1100
published: true
image: /assets/img/posts/2025-11-20/spill06.gif
categories: [Gamedev, Ultimate Indie]
tags: [gamedev, Ultimate Indie, GameDev.tv, prototypes, boba tycoon, Unity, Unity 6, process]
---

Looks like both goatcounter and giscus are working! Just needed to update my config file. I don't expect to see too much activity but I guess it's nice to open an avenue for discussion. I also disabled the PWA on this page because the caching was driving me a bit mad.

I have had a bit on in the past week, and then needing to recover from it ðŸ˜‚ There have been so many events on. Maybe because it's the end of the year. Anyhow it's been hard to find time to put into this ðŸ˜¢

And it's been too long since my last entry! 

My focus is to make sure the dispensing is working correctly. The pouring line showed up correctly but I didn't verify if the container pouring was dispensing only to the cup and that the cup was dispensing to the table underneath.

I am really amused with the "everything is a container" idea. Maybe I can put a container in a container? Strict typing says no ðŸ¤£ But my brain says yes. I'll think about it. Maybe it should be many containers that are held by a container instead of many ingredients in a container? I can rework this later. For now: Make the cup spill!

## Verifying the spill target

My logs are very noisy at the moment. I need to have some easier visibility on what's happening that isn't gong to flood a constantly moving console, or a console that stops scrolling if there are too many logs. I guess its time to add a debug UI so I can just read the current state in text instead of follow a long log list.

![Desktop View]({{ site.url }}/assets/img/posts/2025-11-30/debug01.png){: w="400" }

Simple setup of a UI Toolkit doc. Now I gotta make a script to hook up values and make em update:

![Desktop View]({{ site.url }}/assets/img/posts/2025-11-30/debug02.png){: w="400" }

And it's doing the job:

{% include embed/video.html src='/assets/img/posts/2025-11-30/debug03.mp4' autoplay=true loop=true muted=true %}

Time to add containers to the stand and ground! The measurements art for a cylinder but for now I'll leave it. I just need volumes. I also need to add colliders to the stand and ground. 

With this I can pour directly to the stand and ground but the spilling isn't collecting the pouring correctly.

So I need to adjust some of the code - I moved a few things around but finally this was working how I wanted it:

{% include embed/video.html src='/assets/img/posts/2025-11-30/spill01.mp4' autoplay=true loop=true muted=true %}

![Desktop View]({{ site.url }}/assets/img/posts/2025-11-30/spill02.png){: w="400" }

I realised after looking at it briefly this whole week that I do want to be checking in the update for overspill, instead of just when adding an ingredient. It also collects on the stand as I expect, but the stand doesn't spill because it has no dispense object. That's fine for now.

I do realise I've spent a lot of time on this one mechanic before ever showing it to anyone so I'm worried it'll be a big waste of time ðŸ˜… Ah well, I'll let someone test it when I get the shaders working to the point that they are just indicating ingredient level. Which is the next step!

## Rendering the ingredients

![Desktop View]({{ site.url }}/assets/img/posts/2025-11-30/miro01.png){: w="400" }

It's time to finally add a shader. I'll be using [this shader by MinionsArt](https://www.patreon.com/posts/fake-liquid-urp-75665057). I may also use [this one by Johannes Richter](https://entertainmentengineers.net/?p=51653) and [this one by Ryan Brucks](https://80.lv/articles/alyx-style-bottles-in-unreal-by-ryan-brucks) as guides to add details if I want more details later.

{% include embed/video.html src='/assets/img/posts/2025-11-30/shader01.mp4' autoplay=true loop=true muted=true %}

Pretty simple so far! The amount lines aren't actually right yet, I'll need to modify it to adjust as the volume is pouring out. As I'm doing this I really feel like 3D is overkill on this. 

What I wanted was the cool dynamic lighting whe the day cycles, but that can probably be done manually since these scenes are fairly fixed. I will have to do a visual spike at some point - the shader will need more modifications to handle layering properly so I actually think it's wiser to hook the code I have up to 2D representations instead.
